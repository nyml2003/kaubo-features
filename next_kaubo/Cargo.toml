[package]
name = "next_kaubo"
version = "0.1.0"
edition = "2024"

[features]
trace_execution = []

[[bin]]
name = "kaubo"
path = "src/bin/kaubo.rs"

[lib]
name = "next_kaubo"
path = "src/lib.rs"

[dependencies]
# 日志系统
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter", "json"] }

# CLI
clap = { version = "4", features = ["derive"] }

# 全局单例
once_cell = "1.19"

# 错误处理
thiserror = "2.0.17"

# 测试覆盖率配置 (cargo-tarpaulin)
[profile.test]
opt-level = 0
debug = true

# Tarpaulin 覆盖率配置
# 运行: cargo tarpaulin
[package.metadata.tarpaulin]
# 输出格式
out = ["Html", "Xml"]
# 输出目录
output-dir = "target/tarpaulin"
# 失败阈值 (可选)
# fail-under = 80
